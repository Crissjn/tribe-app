<div class="container my-5 py-4 border rounded shadow-lg bg-light">
  <!-- Title and Host -->
  <div class="text-center mb-5">
    <h1 class="display-4 fw-bold text-primary"><%= @experience.title %></h1>
    <h3 class="text-muted">Hosted by: <span class="text-info"><%= @experience.user.username %></span></h3>
  </div>

  <!-- Participants and Status -->
  <div class="text-center mt-4 mb-5">
    <h4 class="mb-2">
      <i class="fas fa-users"></i>
      Participants: <span class="fw-bold"><%= @experience.bookings.count %> / <%= @experience.max_participants %></span>
    </h4>
    <h4 class="mb-2">
      <i class="fas fa-clipboard-check"></i>
      Status: 
      <span class="fw-bold <%= @experience.full? ? 'text-danger' : 'text-success' %>">
        <%= @experience.full? ? 'Full' : 'Spots available' %>
      </span>
    </h4>
    <% if @experience.finished? %>
      <h4 class="text-danger mt-3"><i class="fas fa-hourglass-end"></i> This experience has finished</h4>
    <% end %>
  </div>

  <!-- Carousel -->
  <% if @experience.photo.attached? %>
    <div id="experienceCarousel" class="carousel slide mb-5" data-bs-ride="carousel">
      <div class="carousel-inner">
        <% @experience.photo.each_with_index do |photo, index| %>
          <div class="carousel-item <%= 'active' if index == 0 %>">
            <%= image_tag photo, class: "d-block w-100 rounded", alt: "Photo of #{@experience.title}" %>
          </div>
        <% end %>
      </div>
      <button class="carousel-control-prev" type="button" data-bs-target="#experienceCarousel" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
      </button>
      <button class="carousel-control-next" type="button" data-bs-target="#experienceCarousel" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
      </button>
    </div>
  <% else %>
    <div class="alert alert-info text-center">
      <i class="fas fa-camera"></i> No photos available for this experience.
    </div>
  <% end %>

  <!-- Description -->
  <div class="mt-5 text-center">
    <h3 class="text-primary fw-bold mb-4"><i class="fas fa-info-circle"></i> Description</h3>
    <div class="mx-auto" style="max-width: 800px;">
      <p class="mt-3 fs-5 text-justify text-dark"><%= @experience.description %></p>
    </div>
  </div>

  <!-- Actions -->
  <div class="text-center mt-5">
    <% if @experience.user == current_user %>
      <h5 class="text-primary mb-3"><i class="fas fa-user"></i> You own this experience</h5>
      <%= link_to "Edit this experience", edit_experience_path(@experience), class: "btn btn-primary btn-lg" %>
    <% else %>
      <% if @experience.full? || @experience.finished? %>
        <button class="btn btn-secondary btn-lg" disabled>
          <%= @experience.full? ? "Experience is full" : "Experience has finished" %>
        </button>
      <% else %>
        <%= link_to "Book this experience", experience_bookings_path(@experience), 
                    data: { turbo_method: "post" }, class: "btn btn-success btn-lg" %>
      <% end %>
      <%= button_to "Like", like_experience_path(@experience), 
                     data: { turbo_method: "post" }, class: "btn btn-outline-danger btn-lg ms-2" %>
    <% end %>
  </div>
</div>